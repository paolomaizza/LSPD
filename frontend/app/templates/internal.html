{% extends 'base.html' %}

{% block title %} Internal of Frontend {% endblock %}

{% block content %}

    <div class="container mt-5">
        <h1>Hello, Internal Page!</h1>
        <p>This is an internal page for interacting with a FastAPI backend.</p>

        <!-- WTForms Form to get input from the user -->
        <form method="POST" action="">
            {{ form.csrf_token }}
            <div class="form-group">
                {{ form.person_name.label }}
                {{ form.person_name(class="form-control", placeholder="Enter person name") }}
            </div>
            {{ form.submit(class="btn btn-primary") }}
        </form>

        <!-- Display the result here -->
        <div id="resultContainer" class="mt-3">
            {% if result %}
                <p>{{ result }}</p>
            {% endif %}
            {% if error_message %}
                <p class="text-danger">{{ error_message }}</p>
            {% endif %}
        </div>
        

    </div>
    {% extends 'base.html' %}

    {% block title %} Internal of Frontend {% endblock %}
    
    {% block content %}
    
        <div class="container mt-5">
            <h1>Hello, Internal Page!</h1>
            <p>This is an internal page for interacting with a FastAPI backend.</p>
    
            <!-- WTForms Form to get input from the user -->
            <form class="row g-3" method="POST" action="">
                {{ form.csrf_token }}
                <div class="col-auto">
                    <label for="{{ form.region.label.field_id }}" class="form-label">
                        {{ form.region.label.text }}
                    </label>
                    {{ form.region(class="form-select", placeholder="Enter a region") }}
                </div>
                <div class="col-12">
                    {{ form.submit(class="btn btn-primary") }}
                </div>
            </form>
    
            <!-- Display the result here -->
            <div id="resultContainer" class="mt-3">
                {% if result %}
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th scope="col">Name</th>
                                <th scope="col">Address</th>
                                <th scope="col">Zip Code</th>
                                <th scope="col">City</th>
                            </tr>
                        </thead>
                        {% for res in result %}
                            <tr>
                                <td>{{ res.name }}</td>
                                <td>{{ res.address }}</td>
                                <td>{{ res.cap }}</td>
                                <td>{{ res.city }}</td>
                            </tr>
                        {% endfor %}
                    </table>
                {% endif %}
                {% if error_message %}
                    <div class="alert alert-danger" role="alert">
                        {{ error_message }}
                    </div>
                {% endif %}
            </div>
            
    
        </div>

{% endblock %}